{% extends "AppWebBundle:Profile:profile_layout.html.twig" %}

{% block profile_right %}
<style>

    .mr-t30 {
        margin-top: 10px;
    }

    .fn-clear:after {
        clear: both;
        content: " ";
        display: block;
        font-size: 0;
        height: 0;
        visibility: hidden;
    }
    .ui-block-line {
        border-bottom: 1px solid #EBEBEB;
    }
    .ui-block {
        padding: 10px 0 30px 0;
    }

    .account-info-img {
        float: left;
        height: 75px;
        margin-left: 50px;
        position: relative;
        text-decoration: none;
        width: 75px;
    }

    .account-info-img img {
        display: block;
        height: 100%;
        width: 100%;
    }

    .account-info-img-edit {
        background-position: 0 50%;
        filter: none;
    }
    .account-info-img-edit {
        background: none repeat scroll 0 0 rgba(0, 0, 0, 0.6);
        color: #FFFFFF;
        cursor: pointer;
        height: 76px;
        left: 0;
        padding-top: 30px;
        position: absolute;
        text-align: center;
        text-decoration: none;
        top: 0;
        width: 76px;
    }
    .fn-hide {
        display: none;
    }
    .account-info-det {
        float: left;
        padding-left: 18px;
        margin-left: 25px;
        width: 300px;
    }
    ol, ul {
        list-style: none outside none;
    }

    .fn-clear:after {
        clear: both;
        content: " ";
        display: block;
        font-size: 0;
        height: 0;
        visibility: hidden;
    }
    .account-info-det .firstLi {
        margin-top: 0;
    }
    .account-info-det li {
        font-size: 14px;
        height: 18px;
        line-height: 40px;
        margin-top: 15px;
    }

    .fn-left {
        float: left;
        width: 80px;
    }
    .fn-left, .fn-right {
        display: inline;
    }

    .ui-list-text {
        color: #4D4D4D;
        font-weight: 700;
        width: 190px;
    }

    .ui-list-img {
        margin-left: 20px;
    }
    .ui-list-img img {
        position: relative;
    }
    .mr-t20 {
        margin-top: 20px;
    }
    .account-information li {
        display: block;
        line-height: 40px;
        width: 100%;
    }

    .account-information .item-name {
        color: #4D4D4D;
        display: inline;
        float: left;
        font-weight: 700;
        padding-left: 20px;
        text-align: left;
        width: 115px;
    }

    .account-information .item-text {
        margin-left: 100px;
        color: #808080;
        display: inline;
        float: left;
        width: 300px;
    }

    .account-information .item-action {
        display: inline;
        float: right;
        margin-right: 20px;
        text-align: right;
        width: 220px;
    }
    {#-----#}
    .tab-content-wrap-account {
        border: 1px solid #CCCCFF;
        margin-bottom: 20px;
        position: relative;
        font-size: 12px;
    }
    .list-table {
        table-layout: fixed;
        text-align: center;
        width: 100%;
    }
    .list-table .caption {
        border-bottom: 1px solid #F5F5F5;
        color: #999999;
        font-size: 14px;
        height: 40px;
        line-height: 40px;
        padding-left: 15px;
        text-align: left;
    }
    .list-table tbody td {
        border-top: 1px solid #F5F5F5;
        height: 49px;
    }
    .list-table tbody tr:first-child td {
        border-top: medium none;
    }
    .td-title {
        font-size: 14px;
        font-weight: bold;
        padding-right: 10px;
        text-align: right;
        width: 14%;
    }
    .td-comment {
        padding-right: 20px;
        color: #999999;
        text-align: left;
        width: 33%;
    }
    .td-state {
        background-color: #F5F8FF;
        width: 10%;
    }
    .td-operate {
        padding-left: 10px;
        text-align: left;
    }

    .iconV2 {
        background-image: url("/bundles/appweb/images/icon-v2-0122.png");
        background-position: 100px 100px;
        background-repeat: no-repeat;
        display: inline-block;
        font-size: 0;
        margin-right: 2px;
        vertical-align: middle;
    }
    .correctIcon {
        background-position: -110px -40px;
        height: 18px;
        width: 18px;
    }

    .errorIcon {
        background-position: -110px -13px;
        height: 18px;
        width: 18px;
    }

    .ui-border a {
        color: #2438CD;
        outline: medium none;
        text-decoration: none;
    }
</style>

{% import "app_user.admin.html.twig" as app_user_macro %}
{% import "app_user_log.admin.html.twig" as app_user_log_macro %}

<div class="ui-border mr-t30">
    <div class="tab-content-wrap-account">
        <table class="list-table">
            <caption class="caption">个人信息</caption>
            <tbody>
                <tr>
                    <td colspan="5">
                        <div class="ui-block ui-block-line fn-clear">
                            <div class="account-info ">
                                <a id="J-portrait-edit" class="account-info-img" href="">
                                    {% set avatar = "https://i.alipayobjects.com/e/201211/1cnaRLxd2D.gif" %}
                                    {% if app.user.avatar %} {% set avatar = app.user.avatar %} {% endif %}
                                    <img id="J-portrait-user" style="width:96px;height:96px;" alt="当前头像" src={{ avatar }}>
                                </a>
                                <ul class="account-info-det">
                                    <li id="J-getAccount" class="firstLi fn-clear">
                                        <span class="fn-left">账户名：</span>
                                        <span title="" class="ui-list-text fn-left">{{ app.user.username }}</span>
                                    </li>
                                    {% if app.user.real_name %}
                                    <li class="fn-clear">
                                        <span class="fn-left">姓名：</span>
                                        <span class="ui-list-text fn-left" title="">{{ app.user.real_name }}</span>
                                    </li>
                                    {% endif %}
                                    <li id="J-getAccount" class="fn-clear">
                                        <span class="fn-left">性别：</span>
                                        <span title="" class="ui-list-text fn-left">{{ app_user_macro.macro_value_gender(app.user) }}</span>
                                    </li>
                                    {% if app.user.mobile_phone_number %}
                                    <li>
                                        <span class="fn-left">手机号码：</span>                    
                                        <span title="" class="ui-list-text fn-left">{{ app.user.mobile_phone_number }}</span>
                                    </li>
                                    {% endif %}
                                    <li>
                                        <span class="fn-left">注册时间：</span>                    
                                        <span title="" class="ui-list-text fn-left">{{ app_user_macro.macro_value_created(app.user) }}</span>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td class="td-title">登录密码</td>
                    <td class="td-comment">上次登录时间：{{ app_date_format(app.user.lastLogin,'Y-m-d H:i:s')}}</td>
                    <td class="td-state"><i class="iconV2 correctIcon">&nbsp;</i>已设置</td>
                    <td class="td-content">******</td>
                    <td class="td-operate"><a href="{{ path("fos_user_change_password") }}">修改</a></td>
                </tr>
                <tr>
                    <td class="td-title">证件信息</td>
                    <td class="td-comment">保障账户安全，只有完成实名认证才能投资或借款</td>
                    <td class="td-state"><i class="iconV2 {% if app.user.id_card %} correctIcon {% else %} errorIcon {% endif %}">&nbsp;</i>{% if app.user.id_card %} 已设置 {% else %} 未设置 {% endif %}</td>
                    <td class="td-content">{{ app.user.real_name }}<br />（{{ app.user.id_card }}）</td>
                    <td class="td-operate light-word"></td>
                </tr>
                <tr>
                    <td class="td-title">电子邮箱</td>
                    <td class="td-comment">获取最新投资讯息和账户信息变动通知</td>
                    <td class="td-state"><i class="iconV2 correctIcon">&nbsp;</i>已验证</td>
                    <td id="bankCardInfo" class="td-content">{{ app.user.email }}<br></td>
                    <td class="td-operate"><a target="_blank" href="{{ path("user_bank_list") }}">{#更换#}</a></td>
                </tr>
                <tr>
                    {% set my_card = app_admin('bank_card').getMyCard() %}
                    <td class="td-title">银行卡信息</td>
                    <td class="td-comment">保障资金安全，只有完成银行卡认证后才能投资</td>
                    <td class="td-state">
                        {% if my_card %}
                            <i class="iconV2 correctIcon">&nbsp;</i>已验证
                        {% else %}
                             <i class="iconV2 errorIcon">&nbsp;</i>未设置
                        {% endif %}
                    </td>
                    <td id="bankCardInfo" class="td-content">
                            {{ app_admin('bank_card').getMaskNumber(my_card) }}
                        <br>
                    </td>
                    <td class="td-operate">
                        {% if my_card %}
                            <a href="{{ path("user_bank_update", {"id": my_card.id}) }}">修改</a>
                        {% else %}
                             <a href="{{ path("user_bank_list") }}">添加</a>
                        {% endif %}
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
    {#<div class="tab-content-wrap-account">
        <table class="list-table">
            <caption class="caption">安全信息</caption>
            <tbody>
                
            </tbody>
        </table>
    </div>  #}  
</div>
{% endblock  profile_right%}